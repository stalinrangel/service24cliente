<ion-header>
  <ion-toolbar color="secondary" mode="md">
  	<ion-buttons slot="start" class="icon-back" default-href="tabs">
	   <ion-back-button text="" icon="md-arrow-back" mode="md">
        </ion-back-button>
	</ion-buttons>
    <ion-title class="ion-text-capitalize ion-text-center">
        {{ 'ORDER.title' | translate }}
    </ion-title>
    <ion-buttons slot="end" (click)="viewNotification()">
      <ion-button>
      	<div class="icon-bagde" *ngIf="show_notify"></div>
        <ion-icon name="notifications" style="font-size: 25px;"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
	<form [formGroup]="orderForm" class="content-div">
		<ion-item lines="none" class="item-info">
			<ion-input value="Readonly" readonly value="{{ 'ORDER.for' | translate }} {{data.establecimiento.usuario.nombre}}" class="input-info"></ion-input>
			<!--ion-icon slot="end" name="arrow-dropup" class="custom-contact1"></ion-icon-->
			
		</ion-item>

		<ion-item lines="none" class="item-info">
			<ion-input value="Readonly" readonly value="{{ 'ORDER.service' | translate }} {{category.nombre}}" class="input-info"></ion-input>
		</ion-item>
		<ion-item lines="none" class="item-info">
		  <ion-textarea placeholder="{{ 'ORDER.observations' | translate }}" formControlName="referencia" class="area-info" rows="4" cols="20"></ion-textarea>
		</ion-item>
		<ion-item lines="none" class="item-info" [ngClass]="{'danger': formErrors.tiempo}">
		  <ion-datetime presentation="date" mode="ios" picker-format="DD MM YYYY" formControlName="tiempo" min="{{myDate}}" class="area-info" cancelText="{{ 'ORDER.cancel' | translate }}" doneText="{{ 'ORDER.accept' | translate }}"></ion-datetime>
		  <ion-icon slot="end" name="arrow-dropup" class="custom-calendar"></ion-icon>
		</ion-item>
		<ion-item lines="none" class="item-info" [ngClass]="{'danger': formErrors.tiempo}">
			
		  <ion-datetime presentation="time" mode="ios" picker-format="hh mm A" formControlName="horaAux" class="area-info" cancelText="{{ 'ORDER.cancel' | translate }}" doneText="{{ 'ORDER.accept' | translate }}"></ion-datetime>
		  <ion-icon slot="end" name="time" class="icon-timer"></ion-icon>
		</ion-item>
		<ion-item lines="none" class="item-info" [ngClass]="{'danger': formErrors.direccion}">
			<ion-input id="places" class="input-info" formControlName="direccion" ></ion-input>
			<ion-icon slot="end" name="arrow-dropup" class="custom-map"></ion-icon>
		</ion-item>
		<div class="content-map">
			<div class="content-infoMap" [hidden]="showInfoMap">
				<p class="info-map">{{ 'ORDER.info' | translate }}</p>
				<p class="ok-map" (click)="showInfoMap=!showInfoMap">OK</p>
			</div>
			<ion-icon md="md-locate" ios="md-locate" class="icon-location" ></ion-icon>
			<div #map id="map"></div>
		</div>
		<ion-button expand="block" class="ion-text-capitalize btn-init" (click)="sendOrder()">{{ 'ORDER.submit' | translate }}</ion-button>	
	</form>
</ion-content>

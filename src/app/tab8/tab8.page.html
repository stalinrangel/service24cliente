<ion-header>
  <ion-toolbar class="nuevo-header" color="secondary" mode="md">
    <ion-title class="ion-text-capitalize " style="text-align: left;position: relative; left: 1.7rem;">
		<img src="../../assets/service24/service24black.svg" alt="">
    </ion-title>
    <ion-buttons slot="end" (click)="viewNotification()">
      <ion-button>
		<div class="icon-bagde" *ngIf="show_notify" ></div><span style="background-color: #F5FBFF; color: white; padding: 1px 3px 1px 3px; font-size: 11px; background-color: red; border-radius: 100px; position: relative; left: 36px; top: -10px; z-index: 10;" *ngIf="vistos>0">{{vistos}}</span>
        <img src="../../assets/service24/notification.svg" alt="">
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>
 
<ion-content >
	<div class="perfil1" (click)="editProfile()">
		<img src="{{usuario.imagen}}" style="height: 40px;width: 40px;border-radius: 50px;">
		<h2 class="hola" style="margin-top: 7px;">{{ 'TAB8.hola' | translate }} {{usuario.nombre}}!</h2>
		<p style="color: #7E8389">{{ 'TAB8.ultima' | translate }}</p>
	</div>
	<div class="perfil2">
		<div style="padding: 20px;">
			
			<div style="display: flex; justify-content: space-between;border-bottom: 1px solid #DAE2E7;">
				<div>
					<p style="font-size: 11px; font-family: Inter-Light;"> <img src="../../assets/service24/icon_pos.svg" alt=""> {{zone.nombre}}</p>
				</div>
				<div style="font-size: 11px; font-family: Inter-Light; display: flex; justify-content: center; align-items: center;">
					<p *ngIf="!active">{{ 'TAB8.inactivo' | translate }}</p>
     				<p *ngIf="active">{{ 'TAB8.activo' | translate }}</p>
					 <ion-buttons slot="end" style="position:relative; top: -7px;">
						<ion-button>
						  <ion-toggle color="primary" mode="md" [(ngModel)]="active" (click)="changeStatus();"></ion-toggle>
						</ion-button>
					</ion-buttons>
				</div>
			</div>
			<div style="display: flex; padding: 20px 0 0px 0;">
				<p *ngIf="pedidos==0" style="font-size: 11px; font-family: Inter-Bold;">{{ 'PROFILE.notienes' | translate }}  {{ 'PROFILE.solicitudes' | translate }}</p>
				<p *ngIf="pedidos!=0" style="margin-bottom: 0;font-size: 11px; font-family: Inter-Bold;">{{ 'PROFILE.tienes' | translate }} {{pedidos}} {{ 'PROFILE.solicitudes' | translate }}</p>
			</div>
		</div>
		

	</div>
	<div style="margin: 20px 20px 10px 20px;">
		<button style="background-color: black; color: white; display: flex; justify-content: center; align-items: center; width: 100%; border-radius: 6px; height: 48px;" (click)="changeRol()">
			<img src="../../assets/service24/icon_cambiar.svg" alt="">
			<p style="font-family: Inter-SemiBold; color: white;  margin: 0;">&nbsp;{{ 'TAB8.modo' | translate }}</p>
		</button>
	</div>
	<div class="perfil3">
		
		<div class="row" style="display: flex; margin: 30px 20px 10px 20px;">
			<div class="col-6" style="padding-left: 0px;">
				<div class="cuadro" (click)="goFilter()">
					<img src="../../assets/service24/icon_cambiarzona.svg" alt="" class="iconperfil">
					<p class="pperfil">{{ 'TAB8.zona' | translate }}</p>
				</div>
			</div>
			<div class="col-6" style="padding-right: 0px;">
				<div class="cuadro" (click)="listService()">
					<img src="../../assets/service24/icon_solicitudes.svg" alt="" class="iconperfil">
					<p class="pperfil">{{ 'TAB8.missolicitudes' | translate }}</p>
				</div>
			</div>
		</div>
		<div class="row" style="display: flex;margin: 10px 20px 10px 20px;">
			<div class="col-6" style="padding-left: 0px;">
				<div class="cuadro" (click)="planes()">
					<img src="../../assets/service24/icon_plan.svg" alt="" class="iconperfil">
					<p class="pperfil">{{ 'TAB8.plan' | translate }}</p>
				</div>
			</div>
			<div class="col-6" style="padding-right: 0px;">
				<div class="cuadro"(click)="payment()" >
					<img src="../../assets/service24/icon_metodospago.svg" alt="" class="iconperfil">
					<p class="pperfil">{{ 'TAB8.pago' | translate }}</p>
				</div>
			</div>
		</div>
	</div>
	<div class="comencemos3">
		<ion-grid style="padding: 0;">
		  <ion-row style="padding: 0;">
			<ion-col size="5" style="padding: 0;">
			  <img src="../../assets/service24/comencemosv2-2.svg" alt="" style="width: 100%;">
			</ion-col>
			<ion-col style="display: flex; justify-content: center; align-items: center; flex-direction: column; padding: 0 5px 0 5px;">
			  <p class="comencemos-p3" style="">
				{{ 'TAB6.llega' | translate }}
			  </p>
			  <div style="display: flex; justify-content: center; align-items: center;">
				<p class="comencemos-p2" style="color: black; font-size: 14px;">{{ 'TAB6.contrata' | translate }}<ion-icon name="arrow-forward-outline"></ion-icon></p>
				
			  </div>
			  
			</ion-col>
		  </ion-row>
		</ion-grid>
	  </div>
	<div *ngIf="false">
		<div class="content-profile" >
		<!--div class="content-profile" [ngStyle]="{'background': 'linear-gradient(0deg, rgba(0,0,0,0.6), rgba(0,0,0,0.6)), url(' + usuario.imagen + ') center center / cover no-repeat'}" -->
			<div style="display: flex; flex-direction: column; text-align: center; justify-content: center; align-items: center;margin: auto;">
				<img src="{{usuario.imagen}}">
				<div class="content-info">
					<p class="title">{{usuario.nombre}}</p>
					<!--ion-icon slot="icon-only" name="star" *ngFor="let current of [1, 2, 3, 4, 5]; let i = index" class="icon-star" [class.filled]="(i + 1 <= promedio_calificacion)"></ion-icon-->
					<ion-rating-stars
					[rating]="promedio_calificacion"
					[color]="'darkgrey'"
					[filledColor]="'orange'"
					[margin]="2"
					[size]="20"
					[disabled]="true"
					[opacity]="0.5"></ion-rating-stars>
				</div>
			</div>
			<div style="text-align: center; display: flex; justify-content: center; align-items: center;margin: auto;">
				<p *ngIf="pedidos==0">{{ 'PROFILE.tienes' | translate }} <br>{{ 'PROFILE.solicitudes' | translate }}</p>
				<p *ngIf="pedidos!=0">{{ 'PROFILE.notienes' | translate }} {{pedidos}}<br>{{ 'PROFILE.solicitudes' | translate }}</p>
			</div>
		</div>
		<div style="margin: 0px 20px 0px 20px;">
			<ion-segment [(ngModel)]="type" value="track"  >
				<ion-segment-button value="track" mode="md">
				<ion-label>{{ 'PROFILE.descripcion' | translate }}</ion-label>
				</ion-segment-button>
				<ion-segment-button value="start" mode="md">
				<ion-label>{{ 'PROFILE.calificaciones' | translate }}</ion-label>
				</ion-segment-button>
			</ion-segment>
		</div>
	
		<div *ngIf="type == 'track'" style="margin: 0px 20px;">
			<div class="content-infoP" *ngIf="status == 1 || status == 2">
				<p class="address" *ngIf="usuario.direccion != ''"><ion-icon name="arrow-dropup" class="custom1-map"></ion-icon> {{usuario.direccion}}</p>
				<!--p><span>Disponibilidad:</span> Lunes a Sábado 9:00 a 7:00 PM</p-->
				<!--p><span>Zonas que atiende:</span> Allbrook, Bella Vista</p-->
				<p class="title-services"><b>Servicios</b></p>
				<p *ngFor="let item of services" class="item-services">- {{item.nombre}}</p>
				<p *ngIf="services.length == 0" class="item-services">{{ 'PROFILE.aunnotienes' | translate }}</p>
			</div>
			<div *ngIf="status == 3">
				<p class="text-complete">{{ 'PROFILE.title' | translate }}</p>
				<ion-button expand="block" class="ion-text-capitalize btn-init" (click)="completeRegister()">{{ 'PROFILE.completar' | translate }}</ion-button>
			</div>
			<div *ngIf="status == 4">
				<p class="text-complete"><br>{{ 'PROFILE.solicitudderegistro' | translate }}</p>
				<ion-button expand="block" class="btn-init" style="text-transform: initial;" (click)="listService()">{{ 'PROFILE.iniciaagregando' | translate }}</ion-button>
				<br>
				<ion-button expand="block" class="btn-init" style="text-transform: initial;" (click)="registro()">{{ 'PROFILE.informaciondelregistro' | translate }}</ion-button>
			</div>
			<ion-list class="list-menu">
				<ion-item lines="full" (click)="editProfile()">
				<ion-label class="nuevo-label">
					<p class="title-menu"><ion-icon name="person" class="icon-build"></ion-icon> {{ 'PROFILE.title' | translate }}</p>
					<ion-icon name="chevron-forward-outline" style="width: 20px;height: 20px;"></ion-icon>
				</ion-label>
				</ion-item>
				<ion-item lines="full" (click)="goFilter()">
					<ion-label class="nuevo-label">
						<p class="title-menu"><ion-icon name="filter-circle-outline" class="icon-build"></ion-icon> {{ 'PROFILE.cambiarzona' | translate }}</p>
						<ion-icon name="chevron-forward-outline" style="width: 20px;height: 20px;"></ion-icon>
					</ion-label>
				</ion-item>
				<ion-item lines="full" (click)="listService()" *ngIf="status == 1 || status == 2 || status == 4">
				<ion-label class="nuevo-label">
					<p class="title-menu"><ion-icon name="build" class="icon-build"></ion-icon> {{ 'PROFILE.gestiondeservicios' | translate }}</p>
					<ion-icon name="chevron-forward-outline" style="width: 20px;height: 20px;"></ion-icon>
				</ion-label>
				</ion-item>
				
				<ion-item lines="full" (click)="support()">
				<ion-label class="nuevo-label">
					<p class="title-menu"><ion-icon name="arrow-dropup" class="custom-support"></ion-icon> {{ 'PROFILE.support' | translate }}</p>
					<ion-icon name="chevron-forward-outline" style="width: 20px;height: 20px;"></ion-icon>
				</ion-label>
				</ion-item>
				<!--ion-item lines="full">
				<ion-label>
					<p class="title-menu"><ion-icon name="arrow-dropup" class="custom-comunity"></ion-icon> Comunidad</p>
				</ion-label>
				</ion-item-->
				<ion-item lines="full" (click)="planes()">
					<ion-label class="nuevo-label">
					<p class="title-menu"><ion-icon name="construct" class="icon-build"></ion-icon> {{ 'PROFILE.Planes' | translate }}</p>
					<ion-icon name="chevron-forward-outline" style="width: 20px;height: 20px;"></ion-icon>
					</ion-label>
				</ion-item>
				<ion-item lines="full" (click)="payment()" *ngIf="status == 1 || status == 2">
				<ion-label class="nuevo-label">
					<p class="title-menu"><ion-icon name="briefcase" class="icon-build"></ion-icon> {{ 'PROFILE.metododepago' | translate }}</p>
					<ion-icon name="chevron-forward-outline" style="width: 20px;height: 20px;"></ion-icon>
				</ion-label>
				</ion-item>
				<ion-item lines="full" (click)="contrat()" *ngIf="status == 1 || status == 2 || status == 4">
				<ion-label class="nuevo-label">
					<p class="title-menu"><ion-icon name="clipboard" class="icon-build"></ion-icon> {{ 'PROFILE.contact' | translate }}</p>
					<ion-icon name="chevron-forward-outline" style="width: 20px;height: 20px;"></ion-icon>
				</ion-label>
				</ion-item>
				<ion-item lines="full" (click)="policy()">
				<ion-label class="nuevo-label">
					<p class="title-menu"><ion-icon name="arrow-dropup" class="custom-privacity"></ion-icon> {{ 'PROFILE.privacy' | translate }}</p>
					<ion-icon name="chevron-forward-outline" style="width: 20px;height: 20px;"></ion-icon>
				</ion-label>
				</ion-item>
				<ion-item lines="full" (click)="terms()">
				<ion-label class="nuevo-label">
					<p class="title-menu"><ion-icon name="arrow-dropup" class="custom-terms"></ion-icon> {{ 'PROFILE.terms' | translate }}</p>
					<ion-icon name="chevron-forward-outline" style="width: 20px;height: 20px;"></ion-icon>
				</ion-label>
				</ion-item>
				<ion-item lines="full" (click)="presentAlert()">
				<ion-label class="nuevo-label">
					<p class="title-menu"><ion-icon name="arrow-dropup" class="custom-contact2"></ion-icon> {{ 'PROFILE.contact' | translate }}</p>
					<ion-icon name="chevron-forward-outline" style="width: 20px;height: 20px;"></ion-icon>
				</ion-label>
				</ion-item>
				<ion-item lines="none" class="ion-text-center item-login" (click)="presentConfirm()">
				<ion-label>
					<p>{{ 'PROFILE.logout' | translate }}</p>
				</ion-label>
				</ion-item>
			</ion-list>
			<p class="info-version">Service 24 Proveedores <br> Version 0.0.35</p>
			<br><br><br><br>
		</div>
		<div *ngIf="type == 'start'">
			<div *ngIf="calificaciones">
				<div class="conten-item" *ngFor="let item of calificaciones;let even = even" [style.background]="even? '#FFFFFF' : '#F2F2F2'">
					<ion-item lines="none">
						<ion-label class="label-item">
						<ion-icon slot="icon-only" name="star" *ngFor="let current of [1, 2, 3, 4, 5]; let i = index" class="icon-star2" [ngClass]="{'filled': i < item.puntaje}"></ion-icon>
						<p class="product-item">{{item.producto.nombre}}</p>
						<p class="comment-item">{{item.usuario.nombre}} - <i>{{item.comentario}}</i></p>
						</ion-label>
						<p slot="end" class="date-item">{{item.created_at}}</p>
					</ion-item>
				</div>
				<p *ngIf="calificaciones.length == 0" class="text-empty">Aún no tienes calificaciones</p>
			</div>
			<div *ngIf="!calificaciones">
				<div class="conten-item">
					<ion-item lines="none">
						<ion-label class="label-item">
						<ion-skeleton-text animated style="width: 70px;"></ion-skeleton-text>
						<p class="user-item"><ion-skeleton-text animated style="width: 50%;"></ion-skeleton-text></p>
						<p class="comment-item"><ion-skeleton-text animated style="width: 80%;"></ion-skeleton-text></p>
						</ion-label>
						<p slot="end" class="date-item"><ion-skeleton-text animated style="width: 55px;"></ion-skeleton-text></p>
					</ion-item>
				</div>
				<div class="conten-item" style="background-color: #f2f2f2f2;">
					<ion-item lines="none">
						<ion-label class="label-item">
						<ion-skeleton-text animated style="width: 70px;"></ion-skeleton-text>
						<p class="user-item"><ion-skeleton-text animated style="width: 50%;"></ion-skeleton-text></p>
						<p class="comment-item"><ion-skeleton-text animated style="width: 80%;"></ion-skeleton-text></p>
						</ion-label>
						<p slot="end" class="date-item"><ion-skeleton-text animated style="width: 55px;"></ion-skeleton-text></p>
					</ion-item>
				</div>
				<div class="conten-item">
					<ion-item lines="none">
						<ion-label class="label-item">
						<ion-skeleton-text animated style="width: 70px;"></ion-skeleton-text>
						<p class="user-item"><ion-skeleton-text animated style="width: 50%;"></ion-skeleton-text></p>
						<p class="comment-item"><ion-skeleton-text animated style="width: 80%;"></ion-skeleton-text></p>
						</ion-label>
						<p slot="end" class="date-item"><ion-skeleton-text animated style="width: 55px;"></ion-skeleton-text></p>
					</ion-item>
				</div>
				<div class="conten-item" style="background-color: #f2f2f2f2;">
					<ion-item lines="none">
						<ion-label class="label-item">
						<ion-skeleton-text animated style="width: 70px;"></ion-skeleton-text>
						<p class="user-item"><ion-skeleton-text animated style="width: 50%;"></ion-skeleton-text></p>
						<p class="comment-item"><ion-skeleton-text animated style="width: 80%;"></ion-skeleton-text></p>
						</ion-label>
						<p slot="end" class="date-item"><ion-skeleton-text animated style="width: 55px;"></ion-skeleton-text></p>
					</ion-item>
				</div>
				<div class="conten-item">
					<ion-item lines="none">
						<ion-label class="label-item">
						<ion-skeleton-text animated style="width: 70px;"></ion-skeleton-text>
						<p class="user-item"><ion-skeleton-text animated style="width: 50%;"></ion-skeleton-text></p>
						<p class="comment-item"><ion-skeleton-text animated style="width: 80%;"></ion-skeleton-text></p>
						</ion-label>
						<p slot="end" class="date-item"><ion-skeleton-text animated style="width: 55px;"></ion-skeleton-text></p>
					</ion-item>
				</div>
			</div>
		</div>
	</div>
</ion-content>
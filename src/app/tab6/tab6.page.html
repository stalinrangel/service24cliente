<ion-header >
  
  <ion-toolbar class="nuevo-header header-border" mode="md">
    <ion-title *ngIf="status == 0" class="ion-text-capitalize ion-text-center">
      {{ 'TAB6.inactivo' | translate }}
    </ion-title>
    <ion-title *ngIf="status == 1 || status == 2" class="ion-text-capitalize">
      Service24
    </ion-title>
    <ion-title *ngIf="status == 3" class="ion-text-capitalize">
      {{ 'TAB6.completa' | translate }}
    </ion-title>
    <ion-title *ngIf="status == 4" class="ion-text-capitalize">
      {{ 'TAB6.revision' | translate }}
    </ion-title>
    <ion-buttons slot="end" (click)="viewNotification()">
      <ion-button>
        <div class="icon-bagde" *ngIf="show_notify" ></div><span style="background-color: #F5FBFF; color: white; padding: 1px 3px 1px 3px; font-size: 11px; background-color: red; border-radius: 100px; position: relative; left: 36px; top: -10px; z-index: 10;" *ngIf="vistos>0">{{vistos}}</span>
        <img src="../../assets/service24/notification.svg" alt="">
      </ion-button>
    </ion-buttons>
  </ion-toolbar>

  <!--ion-toolbar color="secondary" mode="ios" style="color: black;">
    <ion-title *ngIf="status == 1 || status == 2" style="padding-left: 20px; text-align: left;">
      <p *ngIf="!active">Inactivo</p>
      <p *ngIf="active">Activo</p>
    </ion-title>
    <ion-title *ngIf="status != 1 && status != 2" style="padding-left: 20px; text-align: left;">
      <img src="../../assets/service24/logo-rojo.svg" alt="" >
    </ion-title>
    <ion-buttons slot="end" *ngIf="status == 1 || status == 2">
      <ion-button>
        <ion-toggle color="primary" mode="md" [(ngModel)]="active" (click)="changeStatus();iniciar()"></ion-toggle>
      </ion-button>
    </ion-buttons>
  </ion-toolbar-->
</ion-header>
<!--div class="modo">
  <ion-toggle [checked]="isCliente"  (ionChange)="changeRol($event)"></ion-toggle>
  <p style="margin: 0 0px 0 9px;">Modo cliente</p>
</div-->

<ion-content>
  <h2 class="hola" style="margin-top: 15px; margin-left: 20px;">{{ 'TAB6.hola' | translate }} {{usuario.nombre}}!</h2>
  <ion-infinite-scroll>
  <ion-refresher slot="fixed" (ionRefresh)="doRefresh($event)" *ngIf="false">
      <ion-refresher-content
        pullingIcon="ios-arrow-down"
        pullingText="Desliza para actualizar"
        refreshingSpinner="dots"
        class="refresh-content">
      </ion-refresher-content>
  </ion-refresher>
  <ion-list *ngIf="status == 1 || status == 2">
    <div *ngIf="orders">
      <div class="conten-item" *ngFor="let item of orders;let even = even" (click)="viewDetails(item)" [style.background]="even? '#F5FBFF' : '#F5FBFF'" style="border: 1.5px solid var(--secundary-blue-medium, #DAEEFF) !important; border-radius: 10px; margin-top: 10px; margin-left: 20px; margin-right: 20px;">
        <div class="content-img">
          <img [src]="item.usuario.imagen">
          <div style="display: flex; flex-direction: column; width: 100%;">
            <div style="display: flex; justify-content: space-between;align-items: center;">
              <p class="title-item">{{item.usuario.nombre}}</p>
              <img src="../../assets/service24/flecha_derecha.svg" alt="" style="width: 22px;">
            </div>
              <p class="subtitle-item">{{item.productos[0].nombre}}</p>
              <p class="status-item color-yellow" *ngIf="item.estado == 2"> <span class="circle"></span> En espera</p>
              
            <!--div style="margin: auto 0 auto auto;">
              <p slot="end" class="status-item color-yellow" style="margin-left: 10px; width: 77px;" *ngIf="item.estado == 2">En espera</p>
            </div-->
          </div>
        </div>
        <!--ion-item lines="none">
            <ion-label class="label-item">
              <p class="dir-item"><ion-icon name="arrow-dropup" class="custom-map"></ion-icon> {{item.direccion}}</p>
              <p class="date-item">{{item.tiempo}} | {{item.hora}}</p>
            </ion-label>
            
        </ion-item--> 
      </div>
      <div *ngIf="orders.length == 0" style="width: 100%;height: 70vh; display: flex; justify-content: center; align-items: center;">
        <img  src="../../assets/service24/no-tienes-solicitudes-aprobar.svg" alt="" style="width: 60%;height: 100%;">
      </div>
      <!--p *ngIf="orders.length == 0" class="text-empty">No tienes solicitudes en espera</p-->
      
    </div>
    <div *ngIf="!orders">
      <div class="conten-item">
        <p class="title-item"><ion-skeleton-text animated></ion-skeleton-text></p>
        <ion-item lines="none">
            <ion-label class="label-item">
              <p class="dir-item"><ion-icon name="arrow-dropup" class="custom-map"></ion-icon> <ion-skeleton-text animated style="display: inline-block;margin-left: 5px;"></ion-skeleton-text></p>
              <p class="date-item"><ion-skeleton-text animated style="width: 20%;display: inline-block;"></ion-skeleton-text> | <ion-skeleton-text animated style="width: 20%;display: inline-block;"></ion-skeleton-text></p>
            </ion-label>
            <p slot="end" class="status-item"><ion-skeleton-text animated style="width: 55px;"></ion-skeleton-text></p>
        </ion-item>
      </div>
      <div class="conten-item" style="background-color: #f2f2f2f2;">
        <p class="title-item"><ion-skeleton-text animated></ion-skeleton-text></p>
        <ion-item lines="none">
            <ion-label class="label-item">
              <p class="dir-item"><ion-icon name="arrow-dropup" class="custom-map"></ion-icon> <ion-skeleton-text animated style="display: inline-block;margin-left: 5px;"></ion-skeleton-text></p>
              <p class="date-item"><ion-skeleton-text animated style="width: 20%;display: inline-block;"></ion-skeleton-text> | <ion-skeleton-text animated style="width: 20%;display: inline-block;"></ion-skeleton-text></p>
            </ion-label>
            <p slot="end" class="status-item"><ion-skeleton-text animated style="width: 55px;"></ion-skeleton-text></p>
        </ion-item>
      </div>
      <div class="conten-item">
        <p class="title-item"><ion-skeleton-text animated></ion-skeleton-text></p>
        <ion-item lines="none">
            <ion-label class="label-item">
              <p class="dir-item"><ion-icon name="arrow-dropup" class="custom-map"></ion-icon> <ion-skeleton-text animated style="display: inline-block;margin-left: 5px;"></ion-skeleton-text></p>
              <p class="date-item"><ion-skeleton-text animated style="width: 20%;display: inline-block;"></ion-skeleton-text> | <ion-skeleton-text animated style="width: 20%;display: inline-block;"></ion-skeleton-text></p>
            </ion-label>
            <p slot="end" class="status-item"><ion-skeleton-text animated style="width: 55px;"></ion-skeleton-text></p>
        </ion-item>
      </div>
      <div class="conten-item" style="background-color: #f2f2f2f2;">
        <p class="title-item"><ion-skeleton-text animated></ion-skeleton-text></p>
        <ion-item lines="none">
            <ion-label class="label-item">
              <p class="dir-item"><ion-icon name="arrow-dropup" class="custom-map"></ion-icon> <ion-skeleton-text animated style="display: inline-block;margin-left: 5px;"></ion-skeleton-text></p>
              <p class="date-item"><ion-skeleton-text animated style="width: 20%;display: inline-block;"></ion-skeleton-text> | <ion-skeleton-text animated style="width: 20%;display: inline-block;"></ion-skeleton-text></p>
            </ion-label>
            <p slot="end" class="status-item"><ion-skeleton-text animated style="width: 55px;"></ion-skeleton-text></p>
        </ion-item>
      </div>
      <div class="conten-item">
        <p class="title-item"><ion-skeleton-text animated></ion-skeleton-text></p>
        <ion-item lines="none">
            <ion-label class="label-item">
              <p class="dir-item"><ion-icon name="arrow-dropup" class="custom-map"></ion-icon> <ion-skeleton-text animated style="display: inline-block;margin-left: 5px;"></ion-skeleton-text></p>
              <p class="date-item"><ion-skeleton-text animated style="width: 20%;display: inline-block;"></ion-skeleton-text> | <ion-skeleton-text animated style="width: 20%;display: inline-block;"></ion-skeleton-text></p>
            </ion-label>
            <p slot="end" class="status-item"><ion-skeleton-text animated style="width: 55px;"></ion-skeleton-text></p>
        </ion-item>
      </div>
    </div>
  </ion-list>
  <div *ngIf="status == 0">
    <p class="text-complete">{{ 'TAB6.desactivado' | translate }}</p>
  </div>
  <div *ngIf="status == 3"  >
    <div class="comencemos" (click)="completeRegister()">    
      <img src="../../assets/service24/comencemosv2-1.svg" alt="" style="width: 100%; border-radius: 8px 8px 0 0;">
      <div class="comencemos-interno">
        <img src="../../assets/service24/icon_clickboard.svg" alt="" style="height: 30px;">
        <p class="comencemos-p">{{ 'TAB6.pararecibir' | translate }}</p>
      </div>
    </div>
    <div class="comencemos2" (click)="soporte()">
      <ion-grid>
        <ion-row>
          <ion-col size="2">
            <img src="../../assets/service24/icon_support.svg" alt="" style="height: 30px;">
          </ion-col>
          <ion-col>
            <p class="comencemos-p2">{{ 'TAB6.contacta' | translate }}</p>
          </ion-col>
        </ion-row>
      </ion-grid>
    </div>
    <div class="comencemos3">
      <ion-grid style="padding: 0;">
        <ion-row style="padding: 0;">
          <ion-col size="5" style="padding: 0;">
            <img src="../../assets/service24/comencemosv2-2.svg" alt="" style="width: 100%;">
          </ion-col>
          <ion-col style="display: flex; justify-content: center; align-items: center; flex-direction: column; padding: 0 5px 0 5px;">
            <p class="comencemos-p3" style="">
              {{ 'TAB6.llega' | translate }}
            </p>
            <div style="display: flex; justify-content: center; align-items: center;">
              <p class="comencemos-p2" style="color: black; font-size: 14px;">{{ 'TAB6.contrata' | translate }}<ion-icon name="arrow-forward-outline"></ion-icon></p>
              
            </div>
            
          </ion-col>
        </ion-row>
      </ion-grid>
    </div>
    <!--img src="../../assets/service24/completar-registro.svg" alt="" style="width: 100%; margin-top: 10px; height: 90%; ">
    <p class="text-complete">Para recibir solicitudes debe completar su perfil y realizar un registro previo.</p>
    <ion-button expand="block" class="ion-text-capitalize btn-init" (click)="completeRegister()">Comencemos</ion-button-->
  </div>
  <div *ngIf="status == 4" style="display: flex;justify-content: center;align-items: center;flex-direction: column;">
    <br>
    <img src="../../assets/service24/agregarservicio.svg" alt="" style="width: 100%; margin-top: 10px; height: 45vh; ">
    <br>
    <ion-button expand="block" class="ion-text-capitalize btn-init" (click)="agregarservicio()">{{ 'TAB6.agregarservicio' | translate }}</ion-button>
    <ion-button expand="block" class="ion-text-capitalize btn-init2" (click)="mejorarplan()">{{ 'TAB6.mejorarplan' | translate }}</ion-button>
  </div>
  </ion-infinite-scroll>
</ion-content>
